<app-signup></app-signup>
<app-header></app-header>


<section class="mt-5">
	<div class="container">
		<!-- <div class="row">
			
			<div class="col-9 mx-auto">
				<ul id="progressbar">
				      <li class="step-done"></li>  
				      <li class="active"></li> 
				      <li></li>
				</ul>
			</div>
		</div>
 -->
		<div class="row mt-5">
			<div class="col-lg-8 checkout-updated">
				

				<div class="delivery-method">
					<div class="row mt-5">
						<div class="col-12">
							<div class="head-check">
								<h3><i class="fa fa-road"></i>Delivery Method</h3>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<div>
								<label for="home-delivery">
									<input type="radio" value="Home Delivery" name="delivery-method" id="home-delivery" checked>
									Home Delivery
								</label>
								<label for="takeaway">
									<input type="radio" value="Take Away" name="delivery-method" id="takeaway">
									Take Away
								</label>
							</div>
						</div>
					</div>
				</div>

				<div class="delivery-add">
					<div class="row mt-5">
						<div class="col-12">
							<div class="head-check">
								<h3><i class="fa fa-location-arrow"></i>Delivery Address</h3>
							</div>
						</div>
					</div>
					<div>
					<div class="row">
						<form [formGroup]="deliveryAddress">
							<div class="col-md-6">
								<div class="form-group">
									<label>Name:</label>
									<input type="text" formControlName="name" name="del-add-name" value="{{currentUserObj.firstname}}" class="form-control">
									<div *ngIf="name.invalid && (name.dirty || name.touched)">
										<div *ngIf="name.errors.required" class="form-error alert-danger">Name Is Required</div>
								    </div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Email ID:</label>
									<input type="email" formControlName="email" name="del-add-email" value="{{currentUserObj.email}}" class="form-control">
									<div *ngIf="email.invalid && (email.dirty || email.touched)">
										<div *ngIf="email.errors.required" class="form-error alert-danger">Email Is Required</div>
										<div *ngIf="email.errors.email && !email.errors.required" class="form-error alert-danger">Invalid Email</div>
								    </div>
								</div>
							</div>
							<div class="col-md-12">
								<div class="del-add">
									<ul>
										<li><strong>Address:</strong><input type="text" name="del-add-add" value="{{currentUserObj.customeraddresses[0].address}}"></li>

										<li><strong>City:</strong><input type="text" name="del-add-city" value="{{currentUserObj.customeraddresses[0].city}}"></li>
										<li><strong>Country:</strong><input type="text" name="del-add-count" value="{{currentUserObj.customeraddresses[0].country}}"></li>
										<li><strong>Phone No:</strong><input type="text" name="del-add-num-1" value="{{currentUserObj.customeraddresses[0].phoneno}}"></li>
										<li><strong>Zipcode:</strong><input type="text" name="del-add-zip" value="{{currentUserObj.customeraddresses[0].zip}}"></li>
									</ul>
									<div class="del-add-new">
										<a href="#"><i class="fa fa-pencil"></i> Add new address</a>
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Phone: <span>(optional)</span></label>
									<input type="text" formControlName="phone" name="del-add-num" value="{{currentUserObj.customeraddresses[0].phoneno}}" class="form-control">
									<div *ngIf="phone.invalid && (phone.dirty || phone.touched)">
										<div *ngIf="phone.errors.required" class="form-error alert-danger">Phone Is Required</div>
								    </div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label>Who should the driver ask for ? <span>(optional)</span></label>
									<input type="text" name="del-add-n" placeholder="John Smith" class="form-control">
								</div>
							</div>
						</form>
						</div>
					</div>
				</div>

				<div class="delivery-time">
					<div class="row mt-5">
						<div class="col-12">
							<div class="head-check">
								<h3><i class="fa fa-clock-o"></i>Delivery Time</h3>
							</div>
						</div>
					</div>
					<div>
					<div class="row">
					<form [formGroup]="deliveryTime">
						<div class="col-12">
							<div class="form-group">
								<label>Event Date *</label>
								<input  formControlName="date" type="date" name="del-date" id="del-date">
								<div *ngIf="date.invalid && (date.dirty || date.touched)">
										<div *ngIf="date.errors.required" class="form-error alert-danger">Date Is Required</div>
								</div>
								<div *ngIf="!date.invalid && !dateValidation" class="form-error alert-danger">Date Should be greater then today</div>
							</div>
						</div>
						<div class="col-12">
							<div class="form-group">
								<label>Time *</label>
								<input  formControlName="time" type="time" name="del-time" id="del-time">
								<div *ngIf="time.invalid && (time.dirty || time.touched)">
									<div *ngIf="time.errors.required" class="form-error alert-danger">Time Is Required</div>
								</div>
							</div>
						</div>
					</form>
					</div>
					</div>
				</div>

				<div class="payment-sum">
					<div class="row mt-5">
						<div class="col-12">
							<div class="head-check">
								<h3><i class="fa fa-credit-card-alt"></i>Payment Summary</h3>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-12">
							<div>
								<label for="cod">
									<input type="radio" value="Cash" name="pay-meth" id="cod" checked>
									<img src="assets/images/cod.png" class="img-fluid" alt="">
									<h6>Cash on delivery</h6>
								</label>
								<label for="cc">
									<input type="radio" value="card" name="pay-meth" id="cc">
									<img src="assets/images/cc.png" class="img-fluid" alt="">
									<h6>Credit card / Debit card</h6>
								</label>
							</div>
						</div>
					</div>
				</div>

				<div class="agree-check">
					<p>By ordering through Credit Card you agree to the <a routerLink="/term-conditions">Terms and conditions</a></p>
				</div>

				<div class="checkout-btn mt-5 mb-5 pb-5">
					<button [disabled]="!deliveryAddress.valid && !deliveryTime.valid && !dateValidation" style="cursor: pointer;" (click)="PlaceOrder()">Checkout</button>
				</div>
			</div>

			<div class="col-md-4 checkout-sidebar">
				<div class="row">
					<div class="col-12">
						<div class="head-check">
								<h3><i class="fa fa-shopping-cart"></i>Your Order</h3>
							</div>
						<div class="checkout-sidebar-inner">
							<div class="customer-order">
								<ul>
									<li *ngFor="let item of orders.items">
										<div class="ord-q">
											1
										</div>
										<div class="order-name">
											<h5>{{item.name}}</h5>
											Serve {{item.qty}} - <br>
											Size: Regular
										</div>
										<div class="order-price">
											<span class="ord-curr">CAD</span>
											<span class="ord-price">{{item.totalprice}}</span>
										</div>
										<div class="ord-cancel">
											<a style="cursor: pointer;" (click)="RemoveItem(item)"><i class="fa fa-trash"></i></a>
										</div>
									</li>
									
								</ul>
							</div>

							<!-- price total table -->
							<div class="price-total">
								<div class="price-row">
									<div class="total-head">
										Food & Beverage
									</div>
									<div class="total-money">
										<span>CAD &nbsp;</span>
										<span class="subtotal">{{orders.total}}</span>
									</div>
								</div>
								<div class="price-row">
									<div class="total-head">
										Delivery Fee
									</div>
									<div class="total-money">
										<span>CAD &nbsp;</span>
										<span class="subtotal">{{orders.delivery}}</span>
									</div>
								</div>
								<div class="price-row">
									<div class="total-head">
										Sales Tax ({{taxpercentage}}%)
									</div>
									<div class="total-money">
										<span>CAD &nbsp;</span>
										<span class="subtotal">{{orders.taxAmount}}</span>
									</div>
								</div>
							</div>



							<div class="all-total-row">
								<div class="all-total">
									<div class="all-head">
										Total
									</div>
									<div class="all-money">
										CAD <span class="all-price">{{orders.total+orders.taxAmount+orders.delivery}}</span>
									</div>
								</div>
								<div class="all-total">
									<div class="all-head per-head">
										Price Per Head
									</div>
									<div class="all-money per-head">
										CAD <span class="all-price">{{((orders.total+orders.taxAmount+orders.delivery)/orders.totalqty).toFixed(2)}}</span>/Per Head
									</div>
								</div>
							</div>

							

							<div class="coupon-form">
								<div>
									<input type="text" name="coupon-code" placeholder="Coupon Code" id="coupon" required>
									<input type="submit" name="coupon-sub" class="btn-coup" (click)="Reedem()" value="Apply">
								</div>
							</div>
							<div class="edit-ord">
								<a (click)="EditOrder(orders.items[0].kitchenid)" routerLink="/detail"><i class="fa fa-pencil" ></i> Edit your order</a>
							</div>
							
						</div>	
					</div>
				</div>
			</div>
		</div>

		
	</div>
</section>



  
  
<app-footer2></app-footer2>
  